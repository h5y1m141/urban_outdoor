<section class="item__main" ng-controller='ArticleCtrl'>
  <script defer="defer" src="//platform.instagram.com/en_US/embeds.js"></script>
  <section class="wrapper">
    <div class="row">
      <div class="col-sm-12 article__contents__menu">
        <ul class="nav nav-tabs">
          <li data-toggle="tab" ng-repeat="tab in tabs" ng-click='selectTab($index)' ng-class="{'active':selectedTab == $index}">
            <a data-toggle="tab" href="#"> 
              {{ tab.title }}
            </a>
          </li>
        </ul>
        <div class="tab-content">
          <%= render partial: "required_element" %>
          <%= render partial: "input_text" %>
          <%= render partial: "input_image" %>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 article__contents__preview">
        <h4>プレビューエリア</h4>
        <hr/>
        <h2 ng-if="mainTitle">{{ mainTitle }}</h2>
        <div class="article__contents__container">
          <div ng-repeat="content in contentsArea track by $index">
            <preview-text data="content.element_data" tag="content.tag_name" ng-if="content.tag_name == 'sub_head' || content.tag_name == 'description'"></preview-text>
            <img class="article__contents__preview__thumb" ng-if="content.tag_name == 'img' || content.tag_name == 'thumbnail' || content.tag_name == 'title_img' || content.tag_name == 'subtitle_img' || content.tag_name == 'main_visual_image'" picture="content.imagePath"/>

            <instagram data="content.element_data" ng-if="content.tag_name == 'instagram'"></instagram>
          </div>
        </div>
      </div>
    </div>    
  </section>  
</section>
