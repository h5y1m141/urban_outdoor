<section class="item__main" ng-controller='ArticleCtrl'>
  <script defer="defer" src="//platform.instagram.com/en_US/embeds.js"></script>
  <section class="wrapper">
    <div class="row">
      <div class="col-sm-12 article__contents__menu">
        <ul class="nav nav-tabs">
          <li data-toggle="tab" ng-repeat="tab in tabs" ng-click='selectTab($index)' ng-class="{'active':selectedTab == $index}">
            <a data-toggle="tab" href="#"> 
              {{ tab.title }}
            </a>
          </li>
        </ul>
        <div class="tab-content">
          <%= render partial: "required_element" %>
          <%= render partial: "input_image" %>          
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 article__contents__preview">
        <h4>プレビューエリア</h4>
        <div class="article__contents__container">
          <div ng-repeat="content in contentsHeaderArea track by $index">
            <img class="article__contents__preview__thumb" ng-if="content.tagName == 'main_visual_image'" picture="content.imagePath"/>
            <img class="article__contents__preview__thumb" ng-if="content.tagName == 'title_image'" picture="content.imagePath"/>
            <div ng-hide="titleImageFlag" ng-if="content.tagName == 'title'" title="content.data "></div>
            <div ng-if="content.tagName == 'sub_title'" subtitle="content.data "></div>
            <div description="content.data" ng-if="content.tagName == 'leading_sentence'"></div>
          </div>
        </div>
        <div class="article__contents__container">
          <div ng-repeat="content in contentsArea track by $index">
            <items data="content.data" ng-if="content.tagName == 'items'"></items>
            <img class="article__contents__preview__thumb" ng-if="content.tagName == 'img' || content.tagName == 'thumbnail' || content.tagName == 'title_img' || content.tagName == 'subtitle_img' || content.tagName == 'main_visual_image'" picture="content.imagePath"/>
            <heading data="content.data" ng-if="content.tagName == 'heading'"></heading>
            <div ng-if="content.tagName == 'sub_head'" subhead="content.data "></div>
            <div description="content.data" ng-if="content.tagName == 'description' || content.tagName == 'leading_sentence'"></div>
            <div layout="content.data" ng-if="content.tagName == 'hr'"></div>
            <instagram data="content.data" ng-if="content.tagName == 'instagram'"></instagram>
            <linkbutton data="content.data" ng-if="content.tagName == 'linkbutton'"></linkbutton>
          </div>
        </div>
      </div>
    </div>    
  </section>  
</section>
